<h1>GESTIÃ“N DE USUARIOS</h1>

<div class="container border border-black d-flex flex-wrap gap-5 p-4 border-3 rounded-4">

  @for (user of allUsers; track $index) {
    <div class="usuariod">
      <h2>{{ user.name }}</h2>
      <p><strong>Usuario:</strong> {{ user.username }}</p>
      <p><strong>Email:</strong> {{ user.email }}</p>
      <p><strong>Rol:</strong> {{ user.role }}</p>

      <div class="d-flex gap-2 mt-3">
        <button class="btn btn-primary" (click)="updateUsersInfo(user._id)">
          Editar
        </button>

        <button class="btn btn-danger" (click)="deleteUser(user._id)">
          Eliminar
        </button>
      </div>

      <!-- ðŸ”¸ Formulario solo aparece para el usuario seleccionado -->
      @if (showUpdateForm && selectedUserId === user._id) {
        <app-updateformuser
          [userId]="selectedUserId"
          (close)="closeUpdateForm()">
        </app-updateformuser>
      }
    </div>
  }
</div>
